SELECT 
	ROW_NUMBER() OVER (ORDER BY (SELECT 0)) AS IDRow
    , company
    , businessunitcode
    , xts_rearlefttireflaw
    , xts_parentbusinessunitid
    , versionnumber
    , createdon
    , xts_mmspersoninchargeid
    , xts_frontrightoffcentered
    , xts_scheduledarrivaldateandtime
    , xts_workorderid
    , xts_frontrighttireflawname
    , xts_frontlefttireflawname
    , xts_customerid
    , ownerid
    , modifiedon
    , owneridtype
    , xts_typeoftirename
    , createdonbehalfby
    , modifiedbyname
    , xts_platenumber
    , xts_frontrightmm
    , xts_vehiclemodelname
    , xts_vehicleidentificationid
    , xts_frontleftkpa
    , xts_mmstemplateid
    , overriddencreatedon
    , ktb_wodescription
    , xts_nextservicenote
    , xts_nextestimatedservicedate
    , xts_rearleftoffcentered
    , xts_frontrighttireflaw
    , createdonbehalfbyyominame
    , modifiedonbehalfby
    , xts_workorderidname
    , xts_frontlefttireflaw
    , xts_customeridyominame
    , owningteam
    , statecode
    , owneridname
    , timezoneruleversionnumber
    , xts_mmstemplateidname
    , xts_frontleftoffcentered
    , xts_locking
    , xts_rearbrakepad
    , xts_customernumber
    , xts_servicemmsid
    , xts_createdon
    , createdonbehalfbyname
    , xts_rearrightmm
    , utcconversiontimezonecode
    , xts_frontbrakepad
    , xts_rearrighttireflawname
    , xts_rearrightoffcentered
    , importsequencenumber
    , owneridyominame
    , xts_rearrightkpa
    , xts_rearlefttireflawname
    , xts_rearleftkpa
    , xts_servicecategoryid
    , ktb_wommsidname
    , createdbyname
    , xts_businessunitid
    , modifiedonbehalfbyname
    , xts_rearleftmm
    , xts_vehicleidentificationidname
    , xts_rearrightoffcenteredname
    , ktb_wommsid
    , xts_servicemms
    , createdby
    , modifiedby
    , createdbyyominame
    , owninguser
    , xts_frontleftmm
    , xts_customeridname
    , owningbusinessunit
    , modifiedbyyominame
    , xts_frontleftoffcenteredname
    , xts_parentbusinessunitidname
    , xts_frontrightoffcenteredname
    , statuscode
    , modifiedonbehalfbyyominame
    , xts_typeoftire
    , xts_rearleftoffcenteredname
    , xts_frontrightkpa
    , xts_mmspersoninchargeidname
    , statuscodename
    , xts_rearrighttireflaw
    , xts_servicecategoryidname
    , statecodename
    , xts_businessunitidname
    , msdyn_companycode
FROM (
	SELECT 
        b.ktb_bucompany company,
        b.ktb_dealercode businessunitcode
        , a.* 
        , b.msdyn_companycode
    FROM CRM_xts_servicemms a WITH(NOLOCK)
    LEFT JOIN CRM_businessunit b WITH(NOLOCK) 
    ON b.businessunitid = a.xts_businessunitid
    WHERE xts_servicemmsid = @Id
) as VWI_CRM_xts_servicemms  
