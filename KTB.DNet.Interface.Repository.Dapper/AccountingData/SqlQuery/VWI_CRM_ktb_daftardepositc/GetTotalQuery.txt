select 
	COUNT(1)
from (
	SELECT      
		a.[createdonbehalfbyyominame]
		,a.[modifiedonbehalfby]
		,a.[transactioncurrencyidname]
		,a.[ktb_daftardepositc]
		,a.[createdbyname]
		,a.[ktb_service_base]
		,a.[ktb_service]
		,a.[owneridname]
		,a.[statuscode]
		,a.[ktb_availabledeposit]
		,a.[ktb_totaldebit]
		,a.[ktb_beginningbalance_base]
		,a.[transactioncurrencyid]
		,a.[ktb_idheader]
		,a.[owninguser]
		,a.[ktb_totaldebit_base]
		,a.[createdonbehalfby]
		,a.[ktb_ro]
		,a.[importsequencenumber]
		,a.[ktb_dealerid]
		,a.[owningbusinessunitname]
		,a.[ktb_beginningbalance]
		,a.[ktb_totalcredit_base]
		,a.[ktb_endingbalance_base]
		,a.[utcconversiontimezonecode]
		,a.[createdbyyominame]
		,a.[owningbusinessunit]
		,a.[modifiedbyname]
		,a.[versionnumber]
		,a.[modifiedby]
		,a.[modifiedbyyominame]
		,a.[createdby]
		,a.[timezoneruleversionnumber]
		,a.[ktb_period]
		,a.[owneridtype]
		,a.[ktb_availabledeposit_base]
		,a.[owningteam]
		,a.[ktb_businessunitid]
		,a.[owneridyominame]
		,a.[modifiedon]
		,a.[exchangerate]
		,a.[ktb_daftardepositcid]
		,a.[statecode]
		,a.[ktb_endingbalance]
		,a.[modifiedonbehalfbyyominame]
		,a.[statecodename]
		,a.[ktb_ro_base]
		,a.[createdon]
		,a.[ktb_inclearing]
		,a.[createdonbehalfbyname]
		,a.[ktb_giroreceive]
		,a.[ktb_totalcredit]
		,a.[statuscodename]
		,a.[modifiedonbehalfbyname]
		,a.[ktb_giroreceive_base]
		,a.[ktb_businessunitidname]
		,a.[ktb_inclearing_base]
		,a.[ownerid]
		,a.[overriddencreatedon]
		,a.[DealerCode]
		,a.[SourceType]
		,a.[RowStatus]
		,a.[LastSyncDate]
		,b.msdyn_companycode
	FROM [CRM_ktb_daftardepositc] a WITH (NOLOCK)
	LEFT JOIN CRM_businessunit b WITH(NOLOCK) 
	ON B.businessunitid = a.ktb_businessunitid   
	{0}
) as VWI_CRM_ktb_daftardepositc